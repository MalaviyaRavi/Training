// const fs = require('fs');
// const csv = require('@fast-csv/parse');


// csv.parseFile('./public/csvs/admin@admin.com1639652751327.csv', {
//         // headers: true,
//         headers: headers => headers.map(function (value, index) {
//             return "field" + (index + 1);
//         }),
//     })
//     .on('data', row => console.log(row))
//     .on('end', rowCount => console.log(`Parsed ${rowCount} rows`));




// // async function getUsers() {
// //     let users = await csv({
// //         noheader: true,
// //     }).fromFile("./public/csvs/admin@admin.com1639652751327.csv");
// //     console.log(users);
// // }

// // getUsers();


// // let users = [{
// //     email: "admin@admin.com",
// //     number: 123456
// // }, {
// //     email: "admin2@admin.com",
// //     number: 123456
// // }, {
// //     email: "admin@admin.com",
// //     number: 1234567
// // }, {
// //     email: "admin23@admin.com",
// //     number: 1234574556
// // }, {
// //     email: "admin44@admin.com",
// //     number: 12344654556
// // }, {
// //     email: "admin55@admin.com",
// //     number: 12345556
// // }, {
// //     email: "admin7887@admin.com",
// //     number: 12345697856
// // }, ];


// // let emails = [];
// // let numbers = [];
// // let filterUser = [];

// // for (const user of users) {
// //     let emailExist = emails.includes(user.email);
// //     let numberExist = numbers.includes(user.number);
// //     if (emailExist || numberExist) {
// //         continue;
// //     } else {
// //         emails.push(user.email);
// //         numbers.push(user.number);
// //         filterUser.push(user);
// //     }
// // }


// // console.log(filterUser);
let set1 = [9761, 5551, 5815, 5727, 5257, 2594, 4146, 1352, 3320, 8378, 911, 4101, 461, 4966, 3872, 8869, 4742, 8756, 7724, 6611, 9628, 5148, 1801, 168, 8570, 1917, 4512, 7112, 4614, 7707, 9003, 1865, 7883, 7495, 8286, 7312, 2710, 5262, 5202, 9837, 936, 7236, 7346, 7355, 6129, 5698, 7793, 4287, 7041, 3316, 1659, 4373, 3396, 7483, 4513, 2999, 3040, 3830, 1550, 6714, 9001, 3993, 7853, 7269, 8476, 3073, 197, 8706, 5468, 1344, 4223, 9093, 6099, 5142, 5079, 6431, 2653, 8464, 7379, 8120, 9835, 1405, 8322, 8403, 3209, 2270, 9855, 1932, 1376, 805, 9834, 8194, 3215, 5919, 862, 8505, 4249, 8343, 770, 3972, 9381, 8111, 9530, 8360, 7900, 503, 6639, 1749, 9913, 4991, 1016, 360, 1689, 176, 2539, 2053, 8516, 9290, 9373, 8777, 8196, 490, 8654, 1567, 2361, 4911, 8670, 290, 4313, 2313, 6790, 5513, 8921, 4940, 954, 2129, 1166, 2177, 3568, 2242, 2578, 8832, 4405, 2229, 5416, 795, 6231, 8697, 5651, 5129, 8557, 1595, 1180, 8408, 151, 3583, 6961, 2535, 3633, 5756, 6066, 1792, 8496, 6398, 4619, 6841, 4151, 7448, 3032, 8187, 567, 9607, 2159, 496, 1042, 768, 2509, 7749, 2086, 315, 9427, 9656, 9648, 4143, 6514, 2239, 1696, 3332, 8178, 578, 5864, 150, 1365, 9406, 2811, 5366, 5940, 7185, 9270, 1739, 3267, 876, 2388, 5631, 3696, 3526, 1943, 2768, 6705, 5672, 7144, 2074, 450, 4671, 2611, 1032, 4453, 6176, 4122, 6305, 8413, 752, 8199, 9340, 926, 4821, 5646, 4620, 684, 982, 2402, 3701, 609, 9706, 5862, 3987, 5314, 3624, 7782, 4611, 3008, 1024, 3908, 8661, 1833, 1815, 5962, 5212, 3788, 5070, 3486, 5188, 7037, 6399, 7491, 5509, 7161, 8949, 5701, 3449, 4268, 2990, 5505, 8959, 6644, 5835, 115, 4682, 6033, 4598, 401, 4155, 5878, 9763, 4050, 3462, 8822, 3357, 3859, 8433, 7692, 6454, 4949, 8920, 8112, 5347, 9574, 5050, 4877, 7059, 3015, 4729, 6757, 6157, 8901, 9160, 4601, 5578, 1423, 2621, 5958, 198, 4349, 2809, 2570, 9779, 355, 3363, 3186, 8045, 4436, 2173, 8593, 3958, 1646, 509, 8544, 7911, 3618, 7189, 3188, 9378, 1498, 4558, 4718, 629, 3279, 5585, 6906, 4450, 2467, 5883, 1774, 2882, 4732, 4679, 3280, 1893, 5541, 4438, 7840, 570, 9138, 7686, 6269, 2591, 4045, 3211, 4568, 5174, 8623, 2889, 6086, 6329, 5193, 6754, 160, 1290, 4492, 2277, 3863, 4564, 2298, 2634, 4693, 2765, 7387, 5875, 1934, 7709, 167, 1962, 2630, 4412, 9226, 9038, 5413, 5767, 172, 6630, 7052, 3405, 5735, 5185, 4649, 5686, 3976, 961, 8367, 4016, 9486, 3274, 384, 4603, 980, 1557, 4241, 2250, 9467, 7011, 6404, 6682, 7443, 7314, 2219, 1849, 1923, 5709, 8144, 6816, 7005, 1331, 3869, 2260, 8705, 9863, 4920, 8477, 6736, 6978, 6190, 7858, 5075, 6309, 4376, 8701, 3919, 4517, 4246, 3838, 4473, 7976, 6745, 5904, 4178, 712, 1553, 9880, 4148, 6615, 6545, 166, 7669, 4867, 158, 8800, 9947, 8647, 2193, 7779, 2144, 7942, 6394, 4048, 9491, 7812, 4563, 5025, 2783, 8641, 3799, 650, 1717, 2952, 8203, 4543, 5480, 5264, 8885, 1067, 2795, 5330, 9889, 3939, 5534, 1576, 8896, 1422, 6251, 667, 1097, 6435, 5947, 3478, 9426, 2709, 3630, 4266, 957, 314, 3676, 4790, 7252, 8491, 7378, 7497, 2743, 1819, 3951, 6850, 209, 6361, 4479, 6726, 3469, 1091, 1737, 116, 5312, 9318, 2994, 9741, 6598, 4236, 3493, 6062, 1003, 219, 2518, 7386, 2153, 3544, 4997, 7697, 369, 1754, 1584, 3868, 6695, 9798, 615, 2487, 310, 9570, 8939, 7735, 3641, 3991, 5427, 5953, 1466, 2000, 6381, 507, 239, 1721, 3432, 4391, 9722, 1221, 8725, 995, 3082, 3302, 8301, 9457, 440, 4068, 5622, 6025, 2079, 1176, 8089, 2233, 7815, 404, 3905, 9542, 5624, 9869, 6529, 6265, 9402, 2609, 5231, 9744, 2072, 3789, 3762, 7582, 4273, 3865, 8902, 4617, 1273, 7776, 6653, 5722, 5761, 1882, 7142, 5654, 1976, 6119, 9720, 2381, 3063, 3920, 9495, 6088, 2902, 858, 7471, 4078, 1027, 9564, 3926, 1194, 6528, 5140, 7282, 3507, 4502, 508, 2960, 4216, 7963, 7361, 590, 1379, 5356, 4309, 5194, 4754, 5598, 5076, 1916, 2163, 821, 9903, 7737, 5451, 1095, 4833, 5866, 3110, 4929, 8991, 8696, 687, 8931, 6771, 1847, 8743, 4457, 2670, 411, 3158, 3791, 2996, 2318, 4478, 6574, 128, 2432, 182, 6869, 6650, 4556, 7947, 7969, 4484, 195, 6219, 9851, 2070, 1538, 3208, 7310, 8783, 9704, 6015, 149, 1475, 2433, 2205, 3146, 3763, 7811, 1006, 1060, 4746, 2953, 2527, 7168, 5560, 2404, 2236, 9116, 8206, 3521, 7419, 8214, 6931, 5688, 7745, 7206, 7459, 1407, 9429, 4651, 3212, 594, 525, 1674, 5240, 6861, 8802, 6397, 5466, 729, 1085, 6814, 5536, 610, 6612, 9562, 9613, 7043, 1309, 2031, 7422, 1541, 2241, 3720, 5963, 1454, 3422, 5994, 1972, 969, 6521, 1658, 6686, 4303, 356, 9711, 9499, 3581, 8867, 1562, 4065, 1993, 9867, 3555, 9540, 865, 1777, 4905, 7021, 8924, 9335, 4186, 937, 8695, 733, 4849, 8274, 3259, 4224, 5400, 1408, 2741, 4058, 3330, 5710, 2913, 3790, 5824, 8229, 5677, 4316, 363, 5980, 4972, 8059, 2026, 6427, 8497, 631, 606, 3113, 123, 6463, 9273, 2041, 2198, 5136, 5360, 9548, 2878, 7077, 9551, 3959, 4228, 5752, 2824, 418, 9680, 9398, 1589, 769, 4930, 352, 6390, 3288, 6261, 6819, 1640, 6792, 1474, 9636, 7682, 703, 2113, 4071, 3434, 2804, 5791, 4031, 5478, 3540, 6810, 7790, 3126, 7522, 6006, 1119, 8653, 5490, 4364, 7821, 3145, 7056, 2815, 5216, 825, 162, 2405, 1711, 6725, 5384, 6402, 7576, 2032, 205, 2217, 6518, 3491, 8648, 1224, 564, 7759, 4095, 2342, 5676, 9661, 740, 9254, 9298, 3870, 3744, 8170, 9643, 7767, 4128, 455, 7468, 6227, 743, 9954, 6178, 8388, 3337, 2599, 6558, 2362, 2672, 4489, 1565, 785, 8259, 3594, 2304, 8606, 5699, 2808, 559, 6122, 6866, 3318, 3913, 7958, 1364, 7896, 3038, 1829, 8340, 7072, 6449, 9203, 7289, 7375, 7792, 3309, 175, 3620, 8762, 6729, 435, 2807, 4235, 6903, 3952, 7772, 1322, 3860, 7831, 6915, 9045, 3978, 5021, 5606, 4536, 7632, 1000, 9950, 6626, 6173, 5850, 6864, 5851, 4591, 5432, 8207, 4495, 3632, 9106, 7696, 2574, 8328, 7205, 4615, 4862, 3728, 7123, 8938, 2750, 8916, 4448, 7541, 7456, 2717, 2276, 4549, 2911, 5071, 7450, 5030, 1632, 8614, 4647, 7504, 9085, 8070, 6888, 9179, 5119, 2779, 4581, 6768, 3670, 3667, 5666, 7273, 379, 6773, 6517, 7465, 9856, 396, 2484, 8037, 1025, 5061, 1785, 8538, 5802, 2530, 8220, 3784, 2728, 9970, 6908, 9269, 4707, 9021, 2426, 8775, 3753]

set1 = set1.map(function (value) {
    return value.toString()
})

let set2 = [5387, 9172, 8448, 7222, 7129, 5678, 9774, 2862, 4953, 3456, 588, 2394, 3980, 7110, 7842, 1028, 3644, 4537, 2379, 9827, 9299, 4051, 3940, 9747, 6164, 6056, 4520, 6680, 2342, 2389, 3064, 9353, 8822, 7467, 3400, 8231, 2173, 5365, 1865, 6258, 6871, 3785, 2216, 7647, 2109, 6131, 6747, 9940, 6667, 9823, 2952, 9490, 528, 1093, 1273, 8626, 6858, 6899, 5024, 3329, 7426, 1494, 1369, 674, 243, 7471, 5436, 2706, 8128, 9064, 1263, 9785, 7901, 8856, 1941, 412, 7314, 1372, 5938, 7153, 4986, 2491, 5590, 1022, 2328, 5018, 7086, 7755, 9870, 3580, 7511, 4544, 6531, 788, 2451, 9030, 1854, 3328, 2787, 5095, 1317, 8158, 2723, 6220, 5563, 7993, 8627, 3555, 3075, 6508, 225, 6840, 3559, 4579, 2188, 932, 2261, 714, 1230, 171, 8445, 5757, 2349, 4510, 123, 7906, 2129, 1642, 3982, 6737, 8474, 6517, 828, 9793, 7956, 7933, 867, 341, 8826, 9664, 3159, 8906, 6752, 4695, 9361, 8478, 4540, 9217, 1115, 8036, 8171, 6213, 7614, 5376, 9336, 1844, 8355, 6824, 4050, 1671, 5802, 1457, 1385, 8797, 8261, 7393, 5290, 5129, 7343, 7347, 8891, 353, 5332, 1331, 4880, 2362, 3613, 6567, 235, 6135, 4531, 7835, 1268, 7530, 7102, 1484, 4526, 4407, 1636, 2012, 3609, 6484, 8166, 2124, 2650, 1527, 3636, 480, 9797, 210, 2992, 7138, 9632, 6956, 2043, 2475, 6198, 7974, 4533, 5568, 6499, 4515, 7593, 8209, 5665, 5486, 7700, 2199, 2197, 9466, 831, 8781, 2933, 6339, 4946, 3754, 1934, 7554, 7741, 9561, 3598, 4452, 6014, 1002, 6763, 9162, 5608, 3441, 7625, 5377, 2222, 9939, 3761, 5887, 6132, 8987, 7640, 1769, 774, 7758, 9290, 3405, 7371, 484, 3545, 5977, 4391, 9309, 5133, 1414, 5750, 6976, 7962, 8150, 7208, 2104, 1621, 8262, 505, 9936, 3553, 3205, 8436, 3699, 9592, 227, 6793, 3519, 5048, 3101, 7034, 8012, 4729, 550, 8823, 7834, 3346, 314, 3915, 4913, 9256, 6150, 1672, 4056, 201, 3715, 2446, 8792, 8205, 8605, 326, 5816, 2596, 988, 3055, 475, 1030, 3521, 8839, 3788, 2140, 9984, 1219, 6012, 2309, 562, 1087, 7724, 5561, 3996, 3265, 2896, 5511, 7402, 9246, 373, 9155, 5010, 9855, 2226, 2200, 3565, 747, 405, 3273, 4903, 9593, 1535, 6428, 8643, 5116, 3028, 4812, 2538, 4279, 5175, 9303, 696, 3179, 3674, 445, 8068, 4769, 1981, 7173, 3357, 7243, 7454, 9705, 6704, 7894, 7303, 2628, 5329, 1187, 5541, 539, 2160, 7546, 826, 6534, 4987, 5195, 512, 3194, 9574, 6106, 6936, 7544, 4446, 8615, 4470, 2703, 5514, 3756, 4088, 1401, 7196, 2667, 6748, 7772, 6029, 1933, 2593, 3737, 836, 9493, 9435, 9665, 4844, 737, 1803, 3832, 860, 8390, 3411, 8398, 1174, 9944, 1638, 1277, 8930, 9330, 8253, 455, 3839, 8180, 4879, 4889, 2719, 8572, 5334, 3199, 8419, 6595, 9612, 7563, 7033, 3913, 2167, 800, 465, 7049, 6063, 5264, 3742, 501, 1958, 4424, 7489, 3135, 9815, 7411, 1503, 3031, 4028, 7356, 3428, 8566, 9527, 7164, 5157, 4984, 4147, 9214, 2204, 7209, 2755, 4608, 5327, 594, 1696, 497, 5758, 3421, 5602, 7803, 2982, 3383, 6589, 7543, 1269, 3095, 7971, 7823, 4083, 624, 8869, 1817, 3889, 190, 9475, 9173, 6684, 3336, 8165, 1701, 9725, 6144, 7761, 6209, 112, 1386, 4368, 4003, 9618, 8651, 9644, 7497, 8650, 8097, 9031, 2880, 7965, 8923, 3126, 830, 879, 1186, 7927, 5573, 7359, 1061, 3678, 4845, 7697, 3506, 7585, 639, 6465, 3897, 8601, 6810, 6054, 3376, 2913, 7387, 6734, 2610, 7368, 2068, 1286, 8848, 8718, 938, 2044, 4188, 9896, 7701, 9036, 1235, 9799, 3404, 6170, 6470, 8658, 3488, 466, 4864, 8691, 1309, 9626, 2366, 2091, 2632, 3092, 2595, 6070, 1734, 4119, 1584, 9507, 3791, 7419, 246, 6306, 2872, 1517, 6518, 2473, 1287, 5487, 5316, 4420, 1987, 4810, 5473, 1311, 5061, 1682, 5932, 8749, 5385, 730, 6703, 8073, 6818, 7604, 130, 2865, 7712, 5856, 8438, 3967, 4931, 8904, 268, 3938, 1831, 3201, 8132, 2771, 8879, 5232, 7272, 8543, 877, 7721, 6394, 8161, 5347, 7598, 8737, 2025, 9845, 7833, 9824, 9027, 7526, 9956, 7516, 9347, 8109, 8812, 6834, 2053, 7793, 587, 8617, 1018, 7541, 132, 9439, 4739, 2423, 1264, 7328, 7121, 4121, 8573, 7774, 9654, 8594, 2434, 1482, 3619, 549, 6759, 6067, 6708, 9786, 9467, 7756, 2665, 8008, 3904, 8553, 5249, 8136, 4928, 6154, 7853, 1521, 106, 5047, 8944, 7413, 1680, 1884, 7478, 8032, 590, 6212, 4617, 2127, 6308, 6689, 8798, 1568, 5227, 9912, 7578, 2089, 6351, 6025, 4675, 1603, 9508, 441, 6784, 4092, 2182, 3140, 7090, 8316, 3414, 3578, 8112, 6208, 8646, 9452, 3450, 1045, 872, 7899, 2272, 4722, 4996, 2492, 4661, 9453, 702, 7319, 9749, 5557, 2626, 2959, 1510, 9092, 8750, 6439, 1254, 3960, 4096, 7606, 9069, 721, 620, 7089, 3935, 2273, 9277, 3425, 8943, 3138, 3497, 3088, 8311, 8190, 5858, 2037, 6835, 8753, 2979, 5633, 5447, 8082, 9903, 1126, 8323, 8369, 857, 9533, 8618, 3728, 6173, 1806, 2639, 6837, 5707, 5166, 469, 2249, 8361, 9428, 6714, 6694, 790, 4486, 4023, 9740, 9128, 388, 8343, 2194, 5373, 8937, 4128, 4716, 6377, 3224, 9070, 7753, 7699, 493, 1741, 9304, 8021, 9165, 5079, 4168, 6284, 4888, 3153, 4107, 2784, 3458, 4535, 1253, 6739, 222, 2852, 1441, 7670, 6161, 5252, 1678, 6626, 5744, 6075, 8363, 4550, 8780, 8782, 7989, 4720, 8985, 5848, 3485, 9480, 1209, 5331, 9225, 3442, 9449, 2687, 8282, 9989, 8652, 4771, 663, 4287, 6030, 8805, 3529, 6483, 4653, 4558, 5554, 8434, 9226, 7245, 3342, 5620, 3005, 1225, 7231, 538, 5786, 6383, 1706, 9125, 332, 5635, 3585, 9586, 5875, 7183, 3610, 9530, 6058, 8813, 8971, 6948, 5881, 1846, 2347, 3532, 3998, 8929, 1866, 307, 994, 936, 4651, 8329, 4826, 739, 1889, 4621, 1182, 1233, 5055, 5518, 4583, 9680, 9078, 7146, 2849, 8349, 9267, 2477, 649, 3175, 4314, 1778, 4044, 9762, 3221, 5325, 2989, 9080, 9651, 2045, 8291, 6115, 3271, 8469, 9373, 8064, 4004, 2944, 5931, 2460, 2995, 1044, 8368, 2340, 7374, 672, 4033, 5660, 2594, 439, 447, 3542, 4377, 5391, 2736, 1346, 1830, 4431, 1467, 1597, 2405, 3729, 9011, 9045, 6654, 4818, 398, 7423, 6588, 443, 9376, 6417, 295, 5785, 8882, 8027, 1160, 6327, 6614, 898, 7011, 8353, 640, 8886, 5637, 9744, 8151, 7532, 7057, 3086, 6921, 2789, 3549, 4746, 1461, 8989, 3371, 8539, 9316, 5749, 3239, 8707, 1168, 4778, 1773, 4676, 2815, 138, 5922, 4259, 4539, 1479, 3658, 2874, 5066, 1842, 3892, 918, 958, 953, 8284, 5862, 3248, 1800, 1278, 7692]

set2 = set2.map(function (value) {
    return value.toString()
})

const {
    createClient
} = require('redis');

(async () => {
    const client = createClient();

    client.on('error', (err) => console.log('Redis Client Error', err));

    await client.connect();
    console.log("connected");

    await client.SADD("set1", set1);
    await client.SADD("set2 ", set2);


    let start = Date.now()
    let result = await client.SINTER(["set1", "set2"])
    console.log(Date.now() - start);


    await client.set('key', 'value');
    const value = await client.get('key');
})();